{"ast":null,"code":"import { appFetch } from './appFetch';\nimport fetch from './fetch';\n\nconst sort = criteria => ({\n  floors\n}) => floors.sort(criteria);\n\nexport const getFloors = (id, onSucess = console.log, onError = console.err) => {\n  appFetch(`elevator/${id}`, config('GET'), s => {\n    sort((a, b) => b - a);\n  });\n  fetch('GET').then().then(onSucess).catch(onError);\n};\nexport const getToken = (id, otp, onSucess = console.log, onError = console.err) => {\n  fetch('POST', `elevator/${id}/access`, {\n    otp\n  }).then(onSucess).catch(onError);\n};\nexport const move = (token, floor, onSucess = console.log, onError = console.err) => {\n  fetch('POST', 'elevator/move', {\n    floor\n  }, {\n    Authorization: `Bearer ${token}`\n  }).then(onSucess).catch(onError);\n};","map":{"version":3,"sources":["C:/Users/ruzaf/Desktop/ws/elevator-app/src/backend/service.js"],"names":["appFetch","fetch","sort","criteria","floors","getFloors","id","onSucess","console","log","onError","err","config","s","a","b","then","catch","getToken","otp","move","token","floor","Authorization"],"mappings":"AAAA,SAASA,QAAT,QAAyB,YAAzB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,MAAMC,IAAI,GAAGC,QAAQ,IAAI,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAcA,MAAM,CAACF,IAAP,CAAYC,QAAZ,CAAvC;;AAEA,OAAO,MAAME,SAAS,GAAG,CAACC,EAAD,EAAKC,QAAQ,GAACC,OAAO,CAACC,GAAtB,EAA2BC,OAAO,GAACF,OAAO,CAACG,GAA3C,KAAmD;AACxEX,EAAAA,QAAQ,CAAE,YAAWM,EAAG,EAAhB,EAAmBM,MAAM,CAAC,KAAD,CAAzB,EAAkCC,CAAC,IAAI;AAC3CX,IAAAA,IAAI,CAAC,CAACY,CAAD,EAAGC,CAAH,KAASA,CAAC,GAACD,CAAZ,CAAJ;AACH,GAFO,CAAR;AAGAb,EAAAA,KAAK,CAAC,KAAD,CAAL,CACKe,IADL,GAEKA,IAFL,CAEUT,QAFV,EAGKU,KAHL,CAGWP,OAHX;AAIH,CARM;AASP,OAAO,MAAMQ,QAAQ,GAAG,CAACZ,EAAD,EAAKa,GAAL,EAAUZ,QAAQ,GAACC,OAAO,CAACC,GAA3B,EAAgCC,OAAO,GAACF,OAAO,CAACG,GAAhD,KAAwD;AAC5EV,EAAAA,KAAK,CAAC,MAAD,EAAU,YAAWK,EAAG,SAAxB,EAAkC;AAACa,IAAAA;AAAD,GAAlC,CAAL,CACKH,IADL,CACUT,QADV,EAEKU,KAFL,CAEWP,OAFX;AAGH,CAJM;AAKP,OAAO,MAAMU,IAAI,GAAG,CAACC,KAAD,EAAQC,KAAR,EAAef,QAAQ,GAACC,OAAO,CAACC,GAAhC,EAAqCC,OAAO,GAACF,OAAO,CAACG,GAArD,KAA6D;AAC7EV,EAAAA,KAAK,CAAC,MAAD,EAAS,eAAT,EAA0B;AAACqB,IAAAA;AAAD,GAA1B,EAAmC;AACpCC,IAAAA,aAAa,EAAG,UAASF,KAAM;AADK,GAAnC,CAAL,CAEGL,IAFH,CAEQT,QAFR,EAGCU,KAHD,CAGOP,OAHP;AAIH,CALM","sourcesContent":["import { appFetch } from './appFetch';\r\nimport fetch from './fetch';\r\n\r\nconst sort = criteria => ({floors}) => floors.sort(criteria);\r\n\r\nexport const getFloors = (id, onSucess=console.log, onError=console.err) => {\r\n    appFetch(`elevator/${id}`, config('GET'), s => {\r\n        sort((a,b) => b-a)\r\n    })\r\n    fetch('GET', )\r\n        .then()\r\n        .then(onSucess)\r\n        .catch(onError);\r\n}\r\nexport const getToken = (id, otp, onSucess=console.log, onError=console.err) => {\r\n    fetch('POST', `elevator/${id}/access`, {otp})\r\n        .then(onSucess)\r\n        .catch(onError);\r\n}\r\nexport const move = (token, floor, onSucess=console.log, onError=console.err) => {\r\n    fetch('POST', 'elevator/move', {floor}, {\r\n        Authorization: `Bearer ${token}`\r\n    }).then(onSucess)\r\n    .catch(onError);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}