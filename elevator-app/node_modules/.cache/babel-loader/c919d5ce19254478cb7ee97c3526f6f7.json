{"ast":null,"code":"import fetch from './fetch';\n\nconst sort = criteria => ({\n  floors\n}) => floors.sort(criteria);\n\nexport const getFloors = (id, onSucess, onError) => fetch('GET', `elevator/${id}`).then(sort((a, b) => b - a)).then(onSucess).catch(onError);\nexport const getToken = (id, otp) => backend('POST', `elevator/${id}/access`, {\n  otp: pass\n}).then(({\n  token\n}) => {\n  setToken(token);\n  return backend('POST', 'elevator/move', {\n    floor\n  }, {\n    Authorization: `Bearer ${token}`\n  });\n}).then(r => {\n  console.log(r);\n  setComing(true);\n}).catch(console.err);","map":{"version":3,"sources":["C:/Users/ruzaf/Desktop/ws/elevator-app/src/backend/service.js"],"names":["fetch","sort","criteria","floors","getFloors","id","onSucess","onError","then","a","b","catch","getToken","otp","backend","pass","token","setToken","floor","Authorization","r","console","log","setComing","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,SAAlB;;AAEA,MAAMC,IAAI,GAAGC,QAAQ,IAAI,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAcA,MAAM,CAACF,IAAP,CAAYC,QAAZ,CAAvC;;AAEA,OAAO,MAAME,SAAS,GAAG,CAACC,EAAD,EAAKC,QAAL,EAAeC,OAAf,KAA2BP,KAAK,CAAC,KAAD,EAAS,YAAWK,EAAG,EAAvB,CAAL,CAC/CG,IAD+C,CAC1CP,IAAI,CAAC,CAACQ,CAAD,EAAGC,CAAH,KAASA,CAAC,GAACD,CAAZ,CADsC,EAE/CD,IAF+C,CAE1CF,QAF0C,EAG/CK,KAH+C,CAGzCJ,OAHyC,CAA7C;AAKP,OAAO,MAAMK,QAAQ,GAAG,CAACP,EAAD,EAAKQ,GAAL,KAAaC,OAAO,CAAC,MAAD,EAAU,YAAWT,EAAG,SAAxB,EAAkC;AAACQ,EAAAA,GAAG,EAACE;AAAL,CAAlC,CAAP,CAChCP,IADgC,CAC3B,CAAC;AAACQ,EAAAA;AAAD,CAAD,KAAa;AACfC,EAAAA,QAAQ,CAACD,KAAD,CAAR;AACA,SAAOF,OAAO,CAAC,MAAD,EAAS,eAAT,EAA0B;AAACI,IAAAA;AAAD,GAA1B,EAAmC;AAC7CC,IAAAA,aAAa,EAAG,UAASH,KAAM;AADc,GAAnC,CAAd;AAGH,CANgC,EAOhCR,IAPgC,CAO3BY,CAAC,IAAG;AACNC,EAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACAG,EAAAA,SAAS,CAAC,IAAD,CAAT;AACH,CAVgC,EAWhCZ,KAXgC,CAW1BU,OAAO,CAACG,GAXkB,CAA9B","sourcesContent":["import fetch from './fetch';\r\n\r\nconst sort = criteria => ({floors}) => floors.sort(criteria);\r\n\r\nexport const getFloors = (id, onSucess, onError) => fetch('GET', `elevator/${id}`)\r\n    .then(sort((a,b) => b-a))\r\n    .then(onSucess)\r\n    .catch(onError);\r\n\r\nexport const getToken = (id, otp) => backend('POST', `elevator/${id}/access`, {otp:pass})\r\n    .then(({token}) => {\r\n        setToken(token);\r\n        return backend('POST', 'elevator/move', {floor}, {\r\n            Authorization: `Bearer ${token}`\r\n        })\r\n    })\r\n    .then(r =>{\r\n        console.log(r);\r\n        setComing(true)\r\n    })\r\n    .catch(console.err);\r\n\r\n"]},"metadata":{},"sourceType":"module"}