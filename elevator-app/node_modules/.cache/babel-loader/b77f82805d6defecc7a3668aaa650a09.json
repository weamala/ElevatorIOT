{"ast":null,"code":"import { appFetch, setReauthenticationCallback, setServiceToken } from './appFetch';\nexport const getFloors = (id, onSucess = console.log, onError = console.err) => {\n  appFetch(`elevator/${id}`, config('GET'), s => {\n    onSucess(s.floors.sort((a, b) => b - a));\n  }, onError);\n};\nexport const getToken = (id, otp, onSucess = console.log, onError = console.err) => {\n  appFetch(`elevator/${id}/access`, config('POST', {\n    otp\n  }), ({\n    token\n  }) => {\n    setServiceToken(token);\n    onSucess(token);\n  }, onError);\n};\nexport const move = (token, floor, onSucess = console.log, onError = console.err) => {\n  appFetch('elevator/move', config('POST', {\n    floor\n  }), onSucess, onError);\n};","map":{"version":3,"sources":["C:/Users/ruzaf/Desktop/ws/elevator-app/src/backend/service.js"],"names":["appFetch","setReauthenticationCallback","setServiceToken","getFloors","id","onSucess","console","log","onError","err","config","s","floors","sort","a","b","getToken","otp","token","move","floor"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,2BAAnB,EAAgDC,eAAhD,QAAuE,YAAvE;AAEA,OAAO,MAAMC,SAAS,GAAG,CAACC,EAAD,EAAKC,QAAQ,GAACC,OAAO,CAACC,GAAtB,EAA2BC,OAAO,GAACF,OAAO,CAACG,GAA3C,KAAmD;AACxET,EAAAA,QAAQ,CAAE,YAAWI,EAAG,EAAhB,EAAmBM,MAAM,CAAC,KAAD,CAAzB,EAAkCC,CAAC,IAAI;AAC3CN,IAAAA,QAAQ,CAACM,CAAC,CAACC,MAAF,CAASC,IAAT,CAAc,CAACC,CAAD,EAAGC,CAAH,KAASA,CAAC,GAACD,CAAzB,CAAD,CAAR;AACH,GAFO,EAELN,OAFK,CAAR;AAGH,CAJM;AAKP,OAAO,MAAMQ,QAAQ,GAAG,CAACZ,EAAD,EAAKa,GAAL,EAAUZ,QAAQ,GAACC,OAAO,CAACC,GAA3B,EAAgCC,OAAO,GAACF,OAAO,CAACG,GAAhD,KAAwD;AAC5ET,EAAAA,QAAQ,CAAE,YAAWI,EAAG,SAAhB,EAA0BM,MAAM,CAAC,MAAD,EAAS;AAACO,IAAAA;AAAD,GAAT,CAAhC,EAAiD,CAAC;AAACC,IAAAA;AAAD,GAAD,KAAa;AAClEhB,IAAAA,eAAe,CAACgB,KAAD,CAAf;AACAb,IAAAA,QAAQ,CAACa,KAAD,CAAR;AACH,GAHO,EAGLV,OAHK,CAAR;AAIH,CALM;AAMP,OAAO,MAAMW,IAAI,GAAG,CAACD,KAAD,EAAQE,KAAR,EAAef,QAAQ,GAACC,OAAO,CAACC,GAAhC,EAAqCC,OAAO,GAACF,OAAO,CAACG,GAArD,KAA6D;AAC7ET,EAAAA,QAAQ,CAAC,eAAD,EACJU,MAAM,CAAC,MAAD,EAAS;AAACU,IAAAA;AAAD,GAAT,CADF,EAEJf,QAFI,EAGJG,OAHI,CAAR;AAIH,CALM","sourcesContent":["import { appFetch, setReauthenticationCallback, setServiceToken } from './appFetch';\r\n\r\nexport const getFloors = (id, onSucess=console.log, onError=console.err) => {\r\n    appFetch(`elevator/${id}`, config('GET'), s => {\r\n        onSucess(s.floors.sort((a,b) => b-a));\r\n    }, onError);\r\n}\r\nexport const getToken = (id, otp, onSucess=console.log, onError=console.err) => {\r\n    appFetch(`elevator/${id}/access`, config('POST', {otp}), ({token}) => {\r\n        setServiceToken(token);\r\n        onSucess(token);\r\n    }, onError);\r\n}\r\nexport const move = (token, floor, onSucess=console.log, onError=console.err) => {\r\n    appFetch('elevator/move',\r\n        config('POST', {floor}),\r\n        onSucess,\r\n        onError)\r\n}\r\n"]},"metadata":{},"sourceType":"module"}